#+property: header-args :session j
#+PROPERTY: header-args:python+ :async no

#+BEGIN_SRC ipython  :results raw
import pandas as pd
df = pd.Dat
#+END_SRC                                                                                   

#+RESULTS:
# Out[1]:
# Out[3]:
# Out[8]:

#+BEGIN_SRC ipython  :results output
print("test")
#+END_SRC                                                                                   

#+RESULTS:
: test

#+BEGIN_SRC ipython  :results output :session t
print("asd")
#+END_SRC                                                                                   

#+RESULTS:
: asd

#+BEGIN_SRC ipython  :session test  :results output :async t
import pandas as pd
import numpy as np
import tabulate
df = pd.DataFrame([1, 2, 3])
print(df)
print(tabulate.tabulate(df.head(), headers = df.columns, tablefmt="orgtbl"))
#+END_SRC                                                                                   

#+RESULTS:
:    0
: 0  1
: 1  2
: 2  3
: |    |   0 |
: |----+-----|
: |  0 |   1 |
: |  1 |   2 |
: |  2 |   3 |

# Out[16]:
# Out[15]:








#+BEGIN_SRC python  :results output :session test :exports both
print(df)
import pandas as pdf
df = pd.DataFrame()
df = pd.DataFrame()
print

#+END_SRC                                                                                   

#+RESULTS:



#+begin_src ipython :results output
print("test")
#+end_src

#+RESULTS:
: test








#+BEGIN_SRC ipython :results raw  :session t2 :async t
print(df)
print(df)
#+END_SRC                                                                                   

#+RESULTS:
# Out[8]:

0 - c78a8452-aa1c-4fed-aec2-b2ef1fc5e271



#+BEGIN_SRC jupyter-python :results display :session t2
import stata_setup
stata_setup.config("C:/Program Files/Stata17", "mp")
# from pystata import config
# from pystata import stata
# config.init("mp")
# stata.run("")
#+END_SRC                                                                                   

#+RESULTS:
:RESULTS:
# [goto error]
#+begin_example
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
Cell In[3], line 2
      1 import stata_setup
----> 2 stata_setup.config("C:/Program Files/Stata17", "mp")
      3 # from pystata import config
      4 # from pystata import stata
      5 # config.init("mp")
      6 # stata.run("")

File c:\HOME\python\Lib\site-packages\stata_setup.py:45, in config(path, edition, splash)
     43 sys.path.append(os.path.join(path, 'utilities'))
     44 from pystata import config 
---> 45 config.init(edition, splash=splash)

TypeError: init() got an unexpected keyword argument 'splash'
#+end_example
:END:

#+BEGIN_SRC jupyter-python :results display :session t2
from pystatauimport config
config.status()
#+END_SRC                                                                                   

#+RESULTS:
#+begin_example
    System information
      Python version         3.9.2
      Stata version          MP
      Stata library path     C:\Program Files\Stata17\mp-64.dll
      Stata initialized      True
      sfi initialized        True

    Settings
      graphic display        True
      graphic size           width = default, height = default
      graphic format         svg
#+end_example


#+BEGIN_SRC jupyter-python :results display :session t2
config.set_output_file(filename='output.log', replace=True)
#+END_SRC                                                                                   

#+RESULTS:


#+BEGIN_SRC jupyter-python :results display :session t2
from pystata import stata
#+END_SRC                                                                                   

#+RESULTS:
:RESULTS:
# [goto error]
#+begin_example
---------------------------------------------------------------------------
ModuleNotFoundError                       Traceback (most recent call last)
Cell In[27], line 1
----> 1 from pystata import stata

File C:/Program Files/Stata17\utilities\pystata\stata.py:16
     13 else:
     14     from queue import LifoQueue
---> 16 import sfi
     17 from pystata.core import stout
     18 import codeop

ModuleNotFoundError: No module named 'sfi'
#+end_example
:END:

#+BEGIN_SRC jupyter-python :results display :session t2
print("at")
#+END_SRC                                                                                   

#+RESULTS:
: at
